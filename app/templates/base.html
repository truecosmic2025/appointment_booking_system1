<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{% block title %}Easy scheduling ahead | TrueCosmic Calendar{% endblock %}</title>
    <meta name="description" content="Schedule meetings without the back-and-forth. Share your link and let people pick a time that works for both of you." />

    <!-- Tailwind CSS (CDN for dev) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                50: '#eff6ff',
                100: '#dbeafe',
                200: '#bfdbfe',
                300: '#93c5fd',
                400: '#60a5fa',
                500: '#3b82f6',
                600: '#2563eb',
                700: '#1d4ed8',
                800: '#1e40af',
                900: '#1e3a8a',
              },
            },
          }
        }
      }
    </script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
      html, body { font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji"; }
    </style>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}" />
  </head>
  <body class="min-h-screen bg-white text-slate-800">
    <!-- Header -->
    <header class="sticky top-0 z-40 border-b border-slate-200 bg-white/80 backdrop-blur">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex h-16 items-center justify-between">
          <a href="{% if current_user.is_authenticated %}{% if current_user.role in ['owner','admin'] %}{{ url_for('dashboard.owner') }}{% elif current_user.role == 'host' %}{{ url_for('dashboard.host') }}{% else %}/coaches{% endif %}{% else %}{{ url_for('main.index') }}{% endif %}" class="flex items-center gap-2">
            <span class="inline-flex h-8 w-8 items-center justify-center rounded-md bg-brand-600 text-white font-bold">C</span>
            <span class="text-slate-900 font-semibold">TrueCosmic Calendar</span>
          </a>
          <nav class="hidden md:flex items-center gap-8 text-sm text-slate-600">
            {% if current_user.is_authenticated %}
              {% if current_user.role in ['owner','admin'] %}
                <a class="hover:text-slate-900" href="{{ url_for('dashboard.owner') }}">Dashboard</a>
                <a class="hover:text-slate-900" href="{{ url_for('admin.users_index') }}">Admin</a>
              {% elif current_user.role == 'host' %}
                <a class="hover:text-slate-900" href="{{ url_for('dashboard.host') }}">Dashboard</a>
              {% else %}
                <a class="hover:text-slate-900" href="/coaches">Coaches</a>
              {% endif %}
            {% else %}
              <a class="hover:text-slate-900" href="#features">Why TrueCosmic Calendar?</a>
              <a class="hover:text-slate-900" href="#how">How it works</a>
              <a class="hover:text-slate-900" href="/coaches">Coaches</a>
              <a class="hover:text-slate-900" href="#faq">FAQ</a>
            {% endif %}
          </nav>
          <div class="hidden md:flex items-center gap-3">
            {% if current_user.is_authenticated %}
              <span class="text-sm text-slate-600">Hi, {{ current_user.name }} ({{ current_user.role }})</span>
              <a href="{{ url_for('auth.me') }}" class="px-3 py-2 text-sm font-medium text-slate-700 hover:text-slate-900">Account</a>
              <a href="{{ url_for('auth.logout') }}" class="rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50">Sign out</a>
            {% else %}
              <a href="{{ url_for('auth.login') }}" class="px-3 py-2 text-sm font-medium text-slate-700 hover:text-slate-900">Sign in</a>
              <a href="{{ url_for('auth.register') }}" class="rounded-md bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-slate-800">Sign up free</a>
            {% endif %}
          </div>
          <button id="mobileMenuBtn" class="md:hidden inline-flex items-center justify-center rounded-md p-2 text-slate-600 hover:bg-slate-100 hover:text-slate-900" aria-label="Open menu">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
          </button>
        </div>
      </div>
      <div id="mobileMenu" class="md:hidden hidden border-t border-slate-200 bg-white">
        <div class="mx-auto max-w-7xl px-4 py-3 space-y-2 text-sm">
          <a class="block py-2" href="#features">Why TrueCosmic Calendar?</a>
          {% if current_user.is_authenticated %}
            {% if current_user.role in ['owner','admin'] %}
              <a class="block py-2" href="{{ url_for('dashboard.owner') }}">Dashboard</a>
              <a class="block py-2" href="{{ url_for('admin.users_index') }}">Admin</a>
            {% elif current_user.role == 'host' %}
              <a class="block py-2" href="{{ url_for('dashboard.host') }}">Dashboard</a>
            {% else %}
              <a class="block py-2" href="/coaches">Coaches</a>
            {% endif %}
          {% else %}
            <a class="block py-2" href="#how">How it works</a>
            <a class="block py-2" href="/coaches">Coaches</a>
          {% endif %}
          <div class="flex items-center gap-3 pt-2">
            {% if current_user.is_authenticated %}
              <a href="{{ url_for('auth.me') }}" class="px-3 py-2 text-sm font-medium text-slate-700 hover:text-slate-900">Account</a>
              <a href="{{ url_for('auth.logout') }}" class="rounded-md border border-slate-300 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50">Sign out</a>
            {% else %}
              <a href="{{ url_for('auth.login') }}" class="px-3 py-2 text-sm font-medium text-slate-700 hover:text-slate-900">Sign in</a>
              <a href="{{ url_for('auth.register') }}" class="rounded-md bg-slate-900 px-4 py-2 text-sm font-semibold text-white shadow hover:bg-slate-800">Sign up free</a>
            {% endif %}
          </div>
        </div>
      </div>
    </header>

    <main>
      {% with msgs = get_flashed_messages(with_categories=true) %}
        {% if msgs %}
          <div class="mx-auto max-w-3xl px-4 mt-4">
            {% for cat, msg in msgs %}
              <div class="mb-3 rounded-md border px-3 py-2 text-sm {{ 'border-green-300 bg-green-50 text-green-800' if cat=='success' else 'border-red-300 bg-red-50 text-red-800' }}">{{ msg }}</div>
            {% endfor %}
          </div>
        {% endif %}
      {% endwith %}
      {% block content %}{% endblock %}
    </main>

    <!-- Footer -->
    <footer class="border-t border-slate-200 mt-24">
      <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-12">
        <div class="flex flex-col md:flex-row items-center justify-between gap-4">
          <div class="flex items-center gap-2 text-slate-600">
            <span class="inline-flex h-8 w-8 items-center justify-center rounded-md bg-slate-900 text-white font-bold">C</span>
            <span>Â© <span id="year"></span> TrueCosmic Calendar</span>
          </div>
          <div class="flex items-center gap-6 text-sm text-slate-600">
            <a href="#" class="hover:text-slate-900">Privacy</a>
            <a href="#" class="hover:text-slate-900">Terms</a>
            <a href="#" class="hover:text-slate-900">Status</a>
            <a href="#" class="hover:text-slate-900">Contact</a>
          </div>
        </div>
      </div>
    </footer>

    <script src="{{ url_for('static', filename='js/landing.js') }}"></script>
  </body>
  </html>
